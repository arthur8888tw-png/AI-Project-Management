# 對話驅動開發實踐指南

> 充分運用 Gemini 對話能力的開發實踐手冊

---

## 🎯 核心概念

**對話驅動開發 (CDD - Conversation-Driven Development)** 是一種將開發過程視為與 AI 持續對話的方法論。每次對話都是:
- 📝 一次需求澄清
- 💡 一次知識傳遞
- 🔨 一次問題解決
- 📚 一次學習機會

---

## 📋 對話類型與模板

### 1. 探索型對話 (Exploration)

**使用時機**: 需求分析、技術選型、架構設計

#### 模板 1: 需求探索
```markdown
## 專案背景
我想開發一個 [類型] 應用,主要解決 [問題]

## 目標用戶
- 用戶群體: [描述]
- 使用場景: [描述]
- 核心需求: [列表]

## 技術限制
- 必須使用: [技術列表]
- 不能使用: [技術列表]
- 效能要求: [描述]

## 請求
請幫我:
1. 分析需求的可行性
2. 建議功能優先級
3. 識別潛在風險
4. 提供初步架構建議
```

#### 模板 2: 技術選型
```markdown
## 選型需求
專案: [名稱]
需要選擇: [技術類別,如前端框架/資料庫/部署平台]

## 考慮因素
- 學習曲線: [重要性 1-5]
- 生態系統: [重要性 1-5]
- 效能要求: [描述]
- 團隊經驗: [描述]

## 候選方案
1. [方案 A]
2. [方案 B]
3. [方案 C]

## 請求
請提供:
1. 各方案詳細比較表
2. 優缺點分析
3. 適用場景
4. 推薦方案與理由
5. 學習資源連結
```

#### 模板 3: 架構設計
```markdown
## 專案概況
- 名稱: [專案名稱]
- 類型: [Web/Mobile/Desktop]
- 規模: [小/中/大型]
- 技術棧: [已確定的技術]

## 核心功能
1. [功能 1]: [簡述]
2. [功能 2]: [簡述]
3. [功能 3]: [簡述]

## 非功能需求
- 效能: [要求]
- 可擴展性: [要求]
- 安全性: [要求]
- 離線支援: [是/否]

## 請求
請設計系統架構,包含:
1. 系統架構圖 (Mermaid)
2. 資料流程圖
3. 資料庫 Schema
4. API 設計
5. 目錄結構建議
6. 技術風險評估
```

---

### 2. 實作型對話 (Implementation)

**使用時機**: 功能開發、問題修復、程式碼重構

#### 模板 4: 新功能開發
```markdown
## 功能需求
功能名稱: [名稱]
功能描述: [詳細描述]
驗收標準: [列表]

## 技術上下文
- 專案: [名稱]
- 技術棧: [列表]
- 相關檔案: [列表]
- 現有功能: [相關功能描述]

## 設計考量
- UI/UX: [要求]
- 效能: [要求]
- 相容性: [要求]

## 請求
請提供:
1. 實作方案 (含程式碼)
2. 檔案結構建議
3. 測試方法
4. 潛在問題提醒
```

#### 模板 5: Bug 修復
```markdown
## 問題描述
簡述: [一句話描述問題]
詳細: [詳細描述問題現象]

## 環境資訊
- 專案: [名稱]
- 技術: [相關技術與版本]
- 瀏覽器/平台: [資訊]

## 錯誤訊息
\`\`\`
[完整錯誤訊息]
\`\`\`

## 相關程式碼
\`\`\`typescript
// 問題相關的程式碼片段
\`\`\`

## 已嘗試
1. [嘗試 1]: [結果]
2. [嘗試 2]: [結果]

## 請求
請:
1. 分析問題根本原因
2. 提供修復方案
3. 解釋為什麼會發生
4. 建議如何預防類似問題
```

#### 模板 6: 程式碼重構
```markdown
## 重構目標
檔案: [檔案路徑]
目標: [改善可讀性/效能/可維護性/其他]

## 當前程式碼
\`\`\`typescript
// 現有程式碼
\`\`\`

## 問題點
1. [問題 1]
2. [問題 2]

## 限制條件
- 必須保持: [功能/介面]
- 不能改變: [行為]
- 效能要求: [描述]

## 請求
請提供:
1. 重構後的程式碼
2. 改進點說明
3. 重構前後對比
4. 測試建議
```

---

### 3. 學習型對話 (Learning)

**使用時機**: 學習新技術、深入理解概念、最佳實踐

#### 模板 7: 學習新技術
```markdown
## 學習目標
技術: [技術名稱]
目的: [為什麼要學/用在哪裡]

## 當前水平
- 已掌握: [相關技術列表]
- 經驗: [初學者/中級/進階]
- 學習風格: [理論優先/實作優先]

## 學習需求
- 時間: [可投入時間]
- 深度: [基礎應用/深入理解/專家級]
- 應用場景: [具體專案需求]

## 請求
請提供:
1. 學習路徑規劃
2. 核心概念清單 (由淺入深)
3. 實作練習專案建議
4. 學習資源推薦
5. 常見陷阱與最佳實踐
```

#### 模板 8: 深度理解
```markdown
## 理解目標
主題: [具體主題]
當前理解: [我目前的理解]

## 困惑點
1. [困惑 1]
2. [困惑 2]

## 期望
我想理解:
- 底層原理
- 設計思想
- 為什麼這樣設計
- 有什麼替代方案

## 請求
請用漸進式方式解釋:
1. 從基礎概念開始
2. 逐步深入原理
3. 提供實際範例
4. 說明應用場景
5. 對比其他方案
```

#### 模板 9: 最佳實踐
```markdown
## 實踐主題
領域: [如 React Hooks/TypeScript 型別設計/錯誤處理]
專案類型: [描述]

## 當前做法
\`\`\`typescript
// 我目前的做法
\`\`\`

## 請求
請提供:
1. 業界最佳實踐
2. 常見反模式 (anti-patterns)
3. 改進建議
4. 實際範例
5. 權衡考量 (trade-offs)
```

---

### 4. 分析型對話 (Analysis)

**使用時機**: 專案回顧、效能分析、決策評估

#### 模板 10: 專案回顧
```markdown
## 專案資訊
- 名稱: [專案名稱]
- 時間: [開始] - [結束]
- 技術棧: [列表]
- 團隊: [規模]

## 專案數據
- 工作時間: [總時數]
- 程式碼行數: [數量]
- 完成功能: [數量]
- 遇到問題: [數量]

## 回顧重點
請幫我分析:
1. 專案成功的關鍵因素
2. 遇到的主要挑戰與解決方案
3. 技術選型的優缺點
4. 時間分配是否合理
5. 可複用的資產
6. 下次可以改進的地方
```

#### 模板 11: 效能分析
```markdown
## 效能問題
功能: [功能名稱]
問題: [載入慢/卡頓/記憶體高/其他]

## 效能數據
- 載入時間: [數據]
- 記憶體使用: [數據]
- CPU 使用: [數據]
- 網路請求: [數據]

## 相關程式碼
\`\`\`typescript
// 可能有問題的程式碼
\`\`\`

## 請求
請:
1. 識別效能瓶頸
2. 提供優化方案
3. 評估改善幅度
4. 提供實作步驟
5. 建議監控方法
```

---

## 💡 對話技巧

### 技巧 1: 提供充分上下文

❌ **不好的對話**:
```
"我的程式碼有錯誤,怎麼辦?"
```

✅ **好的對話**:
```markdown
## 問題
我在開發 React 求籤應用時,遇到 SQLite 錯誤

## 環境
- React 18 + TypeScript
- Dexie.js 4.0 (SQLite wrapper)
- 錯誤: SQLITE_MISUSE

## 程式碼
\`\`\`typescript
// 相關程式碼片段
\`\`\`

## 已嘗試
1. 檢查資料庫連線 - 正常
2. 查看官方文檔 - 沒找到解決方案
```

### 技巧 2: 明確期望輸出

❌ **不好的對話**:
```
"幫我設計一個使用者系統"
```

✅ **好的對話**:
```markdown
請設計使用者系統,需要包含:
1. 資料庫 Schema (含欄位型別和索引)
2. API 端點設計 (RESTful)
3. 認證流程圖 (Mermaid)
4. 前端元件結構
5. 安全性考量
```

### 技巧 3: 分階段提問

❌ **不好的對話**:
```
"幫我做一個完整的電商網站"
```

✅ **好的對話序列**:
```markdown
對話 1: 需求探索
"我想做電商網站,請幫我分析核心功能和技術選型"

對話 2: 架構設計
"基於上次討論,請設計系統架構"

對話 3: 功能開發
"請實作商品列表功能"

對話 4: 優化改進
"請審查程式碼並提供優化建議"
```

### 技巧 4: 使用結構化格式

使用 Markdown、程式碼區塊、清單等格式化工具,讓對話更清晰:

```markdown
## 專案資訊
- **名稱**: 福至心靈籤
- **技術**: React + TypeScript
- **狀態**: 開發中

## 當前任務
實作歷史記錄篩選功能

## 需求
1. 按月份篩選
2. 預設顯示最新月份
3. 下拉選單切換月份

## 技術細節
\`\`\`typescript
interface HistoryRecord {
  id: string;
  timestamp: number;
  // ...
}
\`\`\`
```

### 技巧 5: 即時回饋與迭代

不要等到完全完成才測試,而是:

```markdown
對話 1: "請提供基本實作"
→ 測試 → 發現問題

對話 2: "測試發現 [問題],請修正"
→ 測試 → 基本可用

對話 3: "功能可用,請優化 [方面]"
→ 測試 → 完美
```

---

## 📊 對話品質評估

### 自我檢查清單

每次對話前:
- [ ] 我是否提供了足夠的上下文?
- [ ] 我的問題是否具體明確?
- [ ] 我是否說明了期望的輸出?
- [ ] 我是否附上了相關程式碼/錯誤訊息?

每次對話後:
- [ ] AI 的回答是否解決了我的問題?
- [ ] 我是否理解了解決方案?
- [ ] 我是否測試了提供的程式碼?
- [ ] 我是否記錄了關鍵學習點?

---

## 🎯 對話效率指標

### 高效對話的特徵
- ⚡ **一次解決**: 問題在一次對話中解決
- 🎯 **精準回應**: AI 的回答直接切中要點
- 📚 **知識累積**: 對話產生可複用的知識
- 🔄 **快速迭代**: 從問題到解決方案的時間短

### 低效對話的徵兆
- 🔁 **重複澄清**: 需要多次解釋同一問題
- 🤔 **模糊回應**: AI 的回答不夠具體
- ⏰ **時間浪費**: 花很多時間在無關的討論
- 📉 **無法應用**: 提供的方案無法直接使用

---

## 💼 實際案例

### 案例 1: 功能開發

**對話開始**:
```markdown
## 專案上下文
專案: 福至心靈籤
技術: React + TypeScript + Dexie
當前: 歷史記錄頁面已完成基本顯示

## 新需求
需要加入月份篩選功能:
1. 預設顯示最新月份的記錄
2. 提供下拉選單切換月份
3. 沒有記錄的月份不顯示

## 技術細節
記錄格式:
\`\`\`typescript
interface FortuneRecord {
  id: string;
  timestamp: number; // Unix timestamp
  deity: string;
  number: number;
}
\`\`\`

## 請求
請提供:
1. 月份提取邏輯
2. 篩選功能實作
3. UI 元件程式碼
```

**對話結果**:
- ✅ 獲得完整實作程式碼
- ✅ 包含邊界情況處理
- ✅ 一次測試通過
- ⏱️ 節省時間: 約 2 小時

### 案例 2: 問題解決

**對話開始**:
```markdown
## 問題
PDF 生成時中文字體顯示為方塊

## 環境
- jsPDF 2.5.1
- 瀏覽器: Chrome 120

## 錯誤現象
英文正常,中文顯示為 □□□

## 已嘗試
1. 設定 font: 'helvetica' - 無效
2. 查看官方文檔 - 提到需要自訂字體
3. 不確定如何載入中文字體

## 請求
請提供完整的中文字體支援方案
```

**對話結果**:
- ✅ 獲得字體載入方法
- ✅ 提供字體來源連結
- ✅ 包含完整範例程式碼
- ⏱️ 10 分鐘解決,原本可能需要 1-2 小時

---

## 🚀 進階技巧

### 技巧 6: 建立對話模板庫

為常見任務建立自己的模板:

```
我的模板/
├── 新功能開發.md
├── Bug修復.md
├── 效能優化.md
├── 程式碼審查.md
└── 技術學習.md
```

### 技巧 7: 對話鏈 (Conversation Chain)

將複雜任務拆分為對話鏈:

```mermaid
graph LR
    A[需求探索] --> B[架構設計]
    B --> C[原型開發]
    C --> D[功能實作]
    D --> E[測試優化]
    E --> F[部署上線]
```

每個節點是一次獨立對話,但彼此關聯。

### 技巧 8: 上下文傳遞

在新對話中引用之前的對話:

```markdown
## 接續上次對話
上次討論: [對話標題或日期]
已完成: [摘要]
當前狀態: [描述]

## 本次目標
[新的目標]
```

---

## 📈 持續改進

### 每週回顧對話品質

```markdown
## 本週對話統計
- 總對話數: X
- 一次解決率: X%
- 平均對話長度: X 輪
- 知識產出: X 篇文檔

## 優秀對話範例
- [對話 1]: [為什麼好]
- [對話 2]: [為什麼好]

## 改進點
- [需要改進的地方]
- [下週目標]
```

---

## 🎓 學習資源

### 推薦閱讀
- [Prompt Engineering Guide](https://www.promptingguide.ai/)
- [How to Ask Questions The Smart Way](http://www.catb.org/~esr/faqs/smart-questions.html)

### 實踐練習
1. 選擇一個小功能,使用模板進行對話
2. 記錄對話過程和結果
3. 評估對話效率
4. 優化模板

---

**版本**: 1.0  
**最後更新**: 2025-12-22  
**相關文檔**: [Gemini驅動開發方法論](./Gemini驅動開發方法論.md)

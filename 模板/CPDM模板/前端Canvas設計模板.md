# 前端人員 Canvas 設計模板

> 使用 Gemini Canvas 設計資料輸入作業畫面

---

## 📋 設計檢查清單

### 開始設計前
- [ ] 了解業務需求
- [ ] 確認資料欄位
- [ ] 了解檢核規則
- [ ] 確認參照資料來源

### 設計過程中
- [ ] 欄位佈局合理
- [ ] 檢核條件清晰
- [ ] 參照資料明確
- [ ] 使用者體驗流暢

### 完成設計後
- [ ] 與業務人員確認
- [ ] 產出完整文檔
- [ ] 準備交付主管

---

## 🎨 Canvas 設計流程

### 步驟 1: 啟動 Canvas

**在 Gemini 對話中輸入**:
```
我需要設計一個 [系統名稱] 的資料輸入畫面

功能: [簡述功能]
用戶: [使用者角色]

請幫我設計初步的畫面佈局
```

**點擊 Canvas 圖示** 開啟視覺化編輯器

---

### 步驟 2: 定義資料欄位

**使用以下模板描述欄位**:

```markdown
## 資料欄位定義

### 基本資料區
1. **客戶編號**
   - 類型: 文字 (10 碼)
   - 必填: 是
   - 格式: C + 9 位數字
   - 範例: C000000001

2. **客戶名稱**
   - 類型: 文字 (50 字)
   - 必填: 是
   - 格式: 無特殊限制
   - 範例: 台灣科技股份有限公司

3. **聯絡電話**
   - 類型: 文字 (15 碼)
   - 必填: 是
   - 格式: 區碼-號碼
   - 範例: 02-12345678

4. **電子郵件**
   - 類型: 文字 (100 字)
   - 必填: 否
   - 格式: Email 格式
   - 範例: contact@example.com

### 業務資料區
5. **業務類型**
   - 類型: 下拉選單
   - 必填: 是
   - 選項: [一般客戶, VIP客戶, 企業客戶]
   - 預設: 一般客戶

6. **信用額度**
   - 類型: 數字
   - 必填: 是
   - 範圍: 0 ~ 10,000,000
   - 預設: 100,000

7. **業務負責人**
   - 類型: 下拉選單 (參照)
   - 必填: 是
   - 來源: 員工主檔
   - 顯示: 員工姓名

### 備註區
8. **備註**
   - 類型: 多行文字
   - 必填: 否
   - 最大長度: 500 字
```

---

### 步驟 3: 定義檢核條件

```markdown
## 資料檢核條件

### 欄位檢核
1. **客戶編號**
   - 檢核 1: 必須以 'C' 開頭
   - 檢核 2: 後面必須是 9 位數字
   - 檢核 3: 不可重複 (查詢資料庫)
   - 錯誤訊息: "客戶編號格式錯誤或已存在"

2. **聯絡電話**
   - 檢核 1: 必須符合格式 XX-XXXXXXXX
   - 檢核 2: 區碼必須是有效的台灣區碼
   - 錯誤訊息: "電話格式錯誤"

3. **電子郵件**
   - 檢核 1: 必須符合 Email 格式
   - 檢核 2: 不可重複 (查詢資料庫)
   - 錯誤訊息: "Email 格式錯誤或已存在"

4. **信用額度**
   - 檢核 1: 必須大於等於 0
   - 檢核 2: 不可超過 10,000,000
   - 檢核 3: VIP客戶最低 500,000
   - 錯誤訊息: "信用額度超出範圍"

### 關聯檢核
1. **業務類型與信用額度**
   - 規則: 若業務類型 = "VIP客戶",信用額度 >= 500,000
   - 錯誤訊息: "VIP客戶信用額度不可低於 500,000"

2. **業務負責人**
   - 規則: 必須是在職員工
   - 錯誤訊息: "請選擇有效的業務負責人"

### 儲存前檢核
- [ ] 所有必填欄位已填寫
- [ ] 所有欄位格式正確
- [ ] 所有關聯檢核通過
- [ ] 無重複資料
```

---

### 步驟 4: 定義參照資料

```markdown
## 參照資料定義

### 參照 1: 業務類型
- **來源**: 系統代碼檔
- **代碼類別**: CUSTOMER_TYPE
- **顯示欄位**: 代碼名稱
- **儲存欄位**: 代碼值
- **資料**:
  | 代碼值 | 代碼名稱 |
  |--------|---------|
  | 01 | 一般客戶 |
  | 02 | VIP客戶 |
  | 03 | 企業客戶 |

### 參照 2: 業務負責人
- **來源**: 員工主檔
- **篩選條件**: 在職 = 是 AND 部門 = 業務部
- **顯示欄位**: 員工編號 + 員工姓名
- **儲存欄位**: 員工編號
- **排序**: 員工姓名

### 參照 3: 客戶編號重複檢查
- **來源**: 客戶主檔
- **檢查時機**: 輸入完成時 (onBlur)
- **檢查方式**: API 呼叫
- **API**: GET /api/customers/check-duplicate?code={客戶編號}

### 參照 4: Email 重複檢查
- **來源**: 客戶主檔
- **檢查時機**: 輸入完成時 (onBlur)
- **檢查方式**: API 呼叫
- **API**: GET /api/customers/check-email?email={電子郵件}
```

---

### 步驟 5: 設計畫面佈局

**請 Canvas 生成畫面**:

```
基於以上欄位定義,請設計一個美觀且易用的表單:

佈局要求:
1. 使用卡片式設計
2. 分為三個區塊: 基本資料、業務資料、備註
3. 必填欄位標示紅色星號
4. 檢核錯誤時顯示紅色提示
5. 底部有「儲存」和「取消」按鈕

UI 風格:
- 現代化、簡潔
- 使用柔和的色彩
- 適當的間距
- 響應式設計 (支援手機、平板、電腦)
```

---

## 📄 交付文檔模板

### 資料輸入畫面設計文檔

```markdown
# [畫面名稱] 設計文檔

**設計者**: [姓名]  
**設計日期**: YYYY-MM-DD  
**版本**: 1.0

---

## 1. 畫面概述

### 功能說明
[簡述這個畫面的功能和用途]

### 使用者
[誰會使用這個畫面]

### 使用場景
[在什麼情況下使用]

---

## 2. 畫面設計

### Canvas 連結
[Canvas 分享連結]

### 畫面截圖
[貼上 Canvas 產生的畫面截圖]

---

## 3. 欄位定義

[貼上步驟 2 的欄位定義]

---

## 4. 檢核條件

[貼上步驟 3 的檢核條件]

---

## 5. 參照資料

[貼上步驟 4 的參照資料定義]

---

## 6. 操作流程

### 新增資料
1. 點擊「新增」按鈕
2. 填寫必填欄位
3. 系統自動檢核
4. 點擊「儲存」
5. 顯示成功訊息

### 修改資料
1. 查詢並選擇資料
2. 點擊「修改」按鈕
3. 修改欄位內容
4. 系統自動檢核
5. 點擊「儲存」
6. 顯示成功訊息

### 刪除資料
1. 查詢並選擇資料
2. 點擊「刪除」按鈕
3. 確認刪除
4. 顯示成功訊息

---

## 7. 錯誤處理

### 檢核錯誤
- 顯示位置: 欄位下方
- 顯示方式: 紅色文字
- 錯誤訊息: [列出所有可能的錯誤訊息]

### 系統錯誤
- 顯示方式: 彈出視窗
- 錯誤訊息: "系統錯誤,請稍後再試"

---

## 8. 特殊需求

### 權限控制
[是否有權限限制]

### 效能要求
[是否有特殊的效能要求]

### 其他
[其他特殊需求]

---

## 9. 附件

- [ ] Canvas 設計檔案
- [ ] 欄位定義 Excel
- [ ] 檢核條件清單
- [ ] 參照資料說明
```

---

## 💡 設計技巧

### 1. 欄位分組
- 相關欄位放在一起
- 使用視覺分隔 (卡片、邊框)
- 清晰的區塊標題

### 2. 必填標示
- 使用紅色星號 (*)
- 或在標籤後加「(必填)」
- 一致的標示方式

### 3. 檢核提示
- 即時檢核 (輸入時)
- 延遲檢核 (失去焦點時)
- 清晰的錯誤訊息
- 錯誤位置明顯

### 4. 使用者體驗
- Tab 鍵順序合理
- Enter 鍵可送出
- Esc 鍵可取消
- 適當的預設值

---

## 🎯 常見問題

### Q1: Canvas 無法產生我想要的佈局?
**A**: 提供更詳細的描述,或分步驟請求:
```
先設計基本資料區的佈局
→ 確認後再設計業務資料區
→ 最後整合
```

### Q2: 檢核條件很複雜怎麼辦?
**A**: 分類整理:
- 簡單檢核: 格式、範圍
- 複雜檢核: 關聯、業務規則
- 非同步檢核: 資料庫查詢

### Q3: 參照資料很多怎麼處理?
**A**: 使用表格整理,並標註:
- 靜態資料 (代碼檔)
- 動態資料 (主檔查詢)
- API 端點

---

**版本**: 1.0  
**建立時間**: 2025-12-22  
**適用階段**: CPDM 需求定義 - 步驟 1  
**相關文檔**: [中心程式開發方法](../工作流程/中心程式開發方法.md)

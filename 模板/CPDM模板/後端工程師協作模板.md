# 後端工程師 Antigravity 協作模板

> 用於後端工程師在 Antigravity 中開發 API 與資料庫時的標準對話與工作模板

---

## 🚀 啟動開發對話

**複製並填寫以下內容作為與 Antigravity 的第一次對話:**

```markdown
# 後端開發任務啟動

## 專案上下文
- **專案名稱**: [例如: 企業請購系統]
- **我的角色**: 後端工程師 (Engineer B)
- **技術棧**: 
  - Runtime: [例如: Node.js / Python]
  - 框架: [例如: Express / FastAPI]
  - 資料庫: [例如: MySQL / PostgreSQL]
  - ORM: [例如: Prisma / SQLAlchemy]

## 參考文檔
- **資料庫 Schema**: [文檔連結]
- **系統架構圖**: [文檔連結]
- **雛型定義**: [文檔連結]

## 當前任務 (Task)
**任務名稱**: [例如: 實作訂單管理 API]
**功能描述**: 
1. 建立 Order Model 與 Migration
2. 實作 CRUD API (列表、詳情、新增、更新、刪除)
3. 實作權限驗證 Middleware
4. 撰寫單元測試

## 請求
請幫我規劃資料庫 Migration 腳本，並提供 CRUD API 的 Controller 架構設計。
```

---

## 🛠️ 開發過程中的常用 Prompt

### 1. 資料庫設計與 Migration
> "我們需要新增一個 `Review` 資料表，與 `Product` 和 `User` 關聯。請提供正規化的 Schema 設計，以及對應的 Prisma Migration 程式碼。"

### 2. API 邏輯實作
> "請實作 `createOrder` 的商業邏輯：檢查庫存 -> 扣除庫存 -> 建立訂單 -> 寫入 Log。請注意交易 (Transaction) 的處理，確保數據一致性。"

### 3. SQL 查詢優化
> "這是目前的查詢代碼 (貼上代碼)，在資料量大時效能較差。請幫我分析並優化 SQL 查詢，或是建議需要建立的 Index。"

### 4. 測試案例生成
> "請針對 `calculateTotalAmount` 函式 (貼上代碼) 生成完整的單元測試案例，包含邊界條件 (Boundary Cases) 和錯誤輸入測試。"

---

## 📝 API 交付檢查清單

**在提交 API 給前端之前，請確認以下項目:**

- [ ] **路徑規範**: 符合 RESTful 設計 (例如: `GET /api/orders/:id`)
- [ ] **狀態碼**: 正確使用 HTTP Status Code (200, 201, 400, 401, 404, 500)
- [ ] **錯誤訊息**: 回傳統一格式的 Error Response (code, message)
- [ ] **資料驗證**: Request Body 與 Params 都有完整的驗證 (Validation)
- [ ] **安全性**: 敏感資料 (如密碼) 未回傳，權限檢查已實作
- [ ] **Swagger/OAS**: API 文件已更新

---

**版本**: 1.0  
**適用階段**: 專案開發階段 (Step 4)

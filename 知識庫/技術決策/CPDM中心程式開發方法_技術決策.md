# 中心程式開發方法 (CPDM) - 技術決策記錄

## 決策背景

**日期**: 2025-12-22  
**對話**: `7c6870ca` - 工時統計儀表板實作  
**專案**: AI專案管理  
**決策者**: 使用者 + Antigravity

## 問題陳述

傳統的系統開發流程中,前端人員、主管、開發者之間缺乏有效的協作機制,導致:
- 需求理解偏差
- 重複溝通成本高
- 原型驗證週期長
- 開發者接手時需重新理解需求

## 決策內容

採用「中心程式開發方法 (CPDM - Central Program Development Method)」,充分運用 Gemini 生態系統 (Canvas、AI Studio、Antigravity) 進行協作開發。

### 核心流程

#### 階段一: 需求定義

**1. 前端人員 - Gemini Canvas 設計**
- **角色**: Key-in People (資料輸入人員)
- **工具**: Gemini Canvas
- **產出**: 
  - 資料輸入作業畫面設計
  - 資料檢核條件定義
  - 欄位參照關係

**範例**:
```markdown
## Canvas 設計內容

### 畫面名稱
客戶資料輸入畫面

### 欄位定義
1. 客戶編號 - 文字(10碼) - 必填
2. 客戶名稱 - 文字(50字) - 必填
3. 聯絡電話 - 文字(15碼) - 必填
4. 電子郵件 - 文字(100字) - 選填
5. 業務類型 - 下拉選單 - 必填
6. 信用額度 - 數字 - 必填

### 檢核條件
- 客戶編號: 必須以'C'開頭 + 9位數字
- 聯絡電話: 格式 XX-XXXXXXXX
- 電子郵件: Email 格式驗證
```

**2. 主管 - AI Studio 整合**
- **角色**: 上級主管
- **工具**: AI Studio
- **輸入**: 
  - 報表需求構想
  - BI 呈現需求
  - 多名前端人員的 Canvas 設計
- **產出**:
  - 整合後的雛型系統
  - 分享連結給前端人員驗證
- **流程**:
  1. 收集所有 Canvas 設計
  2. 在 AI Studio 中描述報表需求
  3. 整合多個輸入畫面
  4. 生成雛型系統
  5. 分享給前端人員初步驗證與微調

**3. 開發者 - Antigravity 重構**
- **角色**: 系統開發者
- **工具**: Antigravity
- **輸入**: 已初步驗證的雛型系統
- **產出**:
  - 重構後的資料庫設計
  - 前端程式碼
  - 後端 API
  - UI/UX 優化

#### 階段二: 專案開發

**4. 子項目分工**
- **開發者職責**: 將系統區分為子項目
  - 前端模組
  - 後端 API
  - 資料庫架構
  - 其他專項任務
- **分配方式**: 交由工程師使用 Antigravity 協作

**5. 進度追蹤與分析**
- **工具**: Antigravity 對話記錄
- **分析內容**:
  - 各項目進度
  - 工時統計
  - 卡關問題識別
  - 效率評估

## 技術選型理由

### 為什麼選擇 Gemini 生態系統?

| 工具 | 優勢 | 適用階段 |
|------|------|----------|
| **Gemini Canvas** | 視覺化設計、即時協作 | 需求定義 |
| **AI Studio** | 多源整合、快速原型 | 需求整合 |
| **Antigravity** | 代碼生成、架構設計 | 開發實作 |

### 與傳統方法比較

| 項目 | 傳統方法 | CPDM 方法 |
|------|----------|-----------|
| 需求溝通 | 文字規格書 | 視覺化 Canvas |
| 原型製作 | 手動編碼 | AI Studio 自動生成 |
| 開發效率 | 人工編寫 | Antigravity 輔助 |
| 進度追蹤 | 手動報告 | 自動分析對話記錄 |
| 協作方式 | 會議溝通 | 分享連結即時驗證 |

## 實施經驗

### 成功案例

**專案**: AI專案管理系統  
**工時**: 17 小時  
**複雜度**: 31.4  
**成果**: 
- ✅ 完整的工時統計儀表板
- ✅ 自動化對話分析
- ✅ 多維度數據視覺化

### 關鍵成功因素

1. **清晰的角色分工**
   - 前端人員專注於業務邏輯
   - 主管專注於整體規劃
   - 開發者專注於技術實現

2. **標準化的交付物**
   - Canvas 設計有固定格式
   - AI Studio 整合有檢查清單
   - Antigravity 開發有 artifacts

3. **即時的反饋機制**
   - 分享連結立即驗證
   - 對話記錄即時追蹤
   - 問題快速定位

## Canvas 到 AI Studio 傳送方法

### 方法 1: 匯出與匯入 (推薦)

**步驟**:
1. 在 Canvas 中匯出設計
   - 點擊「分享」或「匯出」
   - 選擇格式: Markdown / 圖片 / 純文字
2. 在 AI Studio 中匯入
   - 開啟新專案
   - 貼上 Canvas 內容
   - AI Studio 自動解析

### 方法 2: 分享連結方式

**步驟**:
1. Canvas 產生分享連結
   - 點擊「分享」按鈕
   - 複製連結
   - 設定權限 (檢視/編輯)
2. 在 AI Studio 中引用
   ```
   我有以下 Canvas 設計:
   [貼上 Canvas 分享連結]
   
   請幫我整合這個設計到系統中
   ```

### 方法 3: 結構化文字傳遞 (最實用) ⭐

**推薦做法**: 將 Canvas 設計結構化描述後傳遞

**優點**:
- ✅ 不依賴外部連結
- ✅ 內容完整可控
- ✅ 易於版本管理

## 潛在風險與對策

### 風險 1: Canvas 設計不完整

**對策**:
- 建立 Canvas 設計檢查清單
- 要求必填欄位定義
- 強制檢核條件說明

### 風險 2: AI Studio 整合偏差

**對策**:
- 前端人員參與驗證
- 多輪迭代調整
- 保留版本歷史

### 風險 3: Antigravity 理解錯誤

**對策**:
- 提供完整的上下文
- 使用 implementation_plan.md
- 階段性驗證

## 適用場景

### ✅ 適合使用 CPDM

- 需要多角色協作的系統
- 有明確的資料輸入與報表需求
- 團隊熟悉 Gemini 生態系統
- 需要快速原型驗證

### ❌ 不適合使用 CPDM

- 單人開發的小型專案
- 需求極度不明確
- 團隊不熟悉 AI 工具
- 對 AI 生成代碼有嚴格限制

## 後續優化方向

1. **建立模板庫**
   - Canvas 設計模板
   - AI Studio 整合模板
   - Antigravity 開發模板

2. **自動化流程**
   - Canvas 自動匯出
   - AI Studio 自動整合
   - Antigravity 自動部署

3. **質量控制**
   - 設計審查機制
   - 代碼審查流程
   - 測試自動化

## 相關資源

### 內部文檔
- [Gemini驅動開發方法論 (GDDM)](../../工作流程/Gemini驅動開發方法論.md)
- [中心程式開發方法實踐指南](../../工作流程/中心程式開發方法.md)

### 外部資源
- [Google AI Studio](https://aistudio.google.com/)
- [Gemini Canvas](https://gemini.google.com/)
- [Antigravity Documentation](https://deepmind.google/technologies/gemini/)

## 標籤

#技術決策 #開發方法論 #CPDM #Gemini生態系統 #協作流程 #AI輔助開發

## 專案

AI專案管理

## 相關對話

- `7c6870ca` - 工時統計儀表板實作 (2025-12-22)

## 決策狀態

✅ **已採用** - 目前作為主要開發方法論使用
